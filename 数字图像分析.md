[TOC]

# 数字图像分析

## 绪论

### 图像和图像工程

**图像**是用各种观测系统以不同形式和手段观测客观世界而获得的，可以直接或间接作用于人眼进而产生视知觉的实体。

2-D图像中每个基本单元矩阵称为图像元素，简称**像素**。

3-D空间XYZ中的图像中的基本单元称为**体素**。

城区距离：$d_4(p,r) = |x_p-x_r| + |y_p-y_r|$

一个像素$p(x_p,y_p)$的4-邻域$N_4(p)$定义为：$N_4(p) = \left\{ r | d_4(p,r) = 1\right\}$ 

一个像素的8-邻域$N_8(p)$是其4-邻域和对角邻域的并集。

棋盘距离$d_8(p,r) = \max(|x_p-x_r|, |y_p-y_r|)$ .

m-连接（混合连接）：两个像素p,r在V中取值满足下列条件之一：

1. r在$N_4(p)$中
2. r在$N_D(P)$中且$N_4(p)\cap N_4(r)$不包含V中取值的像素

## 图像分割基础

**边缘检测**是所有基于边界的图像分割方法的第一步，也是并行辩解技术的关键。

在2-D图像中，沿一定方向上的边缘可用该方向剖面上的4个参数来模型化：

1. 位置：边缘最大灰度变化处。
2. 斜率：边缘在其朝向上的倾斜程度。
3. 均值：分数边缘两边像素的灰度均值。
4. 幅度：边缘两边灰度均值间的差。

### 正交梯度算子

**梯度**对应一阶导数，梯度算子是一阶导数算子。由于涉及平方和开方运算，计算量会比较大。在实用中为了计算简便，常采用其他方法组合两个模板的输出。

最简单的梯度算子是**罗伯特交叉算子**$2\times2$，比较常用的还有**布瑞维特算子**和**索贝尔算子** $3\times3$。 

![屏幕快照 2018-09-25 下午8.21.15](/Users/lixiang/Documents/Baxter/assets/屏幕快照 2018-09-25 下午8.21.15.png)

### 二阶导数算子

常见的二阶导数算子有三种：

#### 拉普拉斯算子

在图像中，对拉普拉斯值得计算可以借助各种模板实现。对模板的要求：对应中心像素的系数应是正的，对应中心像素临近像素的系数是负的，且所有系数的和是零。

三种典型的拉普拉斯算子的模板：

![屏幕快照 2018-09-25 下午8.32.00](/Users/lixiang/Documents/Baxter/assets/屏幕快照 2018-09-25 下午8.32.00.png)

拉普拉斯算子是一种二阶导数算子，所以对图像中的噪声相当敏感。它常产生双像素宽的边缘，且不能提供边缘方向的信息。所以拉普拉斯算子很少直接用于边缘检测，而主要用于已知边缘像素后确定该像素是在图像的暗区或明区一边。

#### 马尔算子

马尔算子是在拉普拉斯算子的基础上实现的。

1. 用一个2-D的搞死平滑模板与原始图像卷积
2. 计算卷积后图像的拉普拉斯值
3. 检测拉普拉斯图像中的过零点作为边缘点

#### 坎尼算子

坎尼吧边缘检测问题转换为检测单位函数极大值问题来考虑，使用了一个特定的边缘数学模型：被高斯噪声污染的阶跃边缘。坎尼算子的四个基本步骤：

1. 使用高斯滤波器平滑图像以减轻噪声影响。
2. 检测滤波图像中灰度梯度的大小和方向。
3. 细化借助梯度检测得到的边缘像素所构成的边界。
4. 选取两个阈值边界朱之后阈值化方法最后确定边缘点。

### 串行边界技术

可采用边检测边缘点边串行连接边缘点构成闭合边界的方法，或先初始化一个闭合边界再逐步迭代地（串行）调整到边缘的方法。由于这些方法考虑了图像中边界的全局信息，长可取的比较鲁棒的结果。

#### 主动轮廓模型

通过逐步改变封闭曲线的形状以逼近图像中目标的轮廓。实际应用中，主动轮廓模型常用于在给定图像中目标边界的一个近似（初始轮廓）的情况下去检测精确的轮廓。

![屏幕快照 2018-09-26 下午5.10.45](/Users/lixiang/Documents/Baxter/assets/屏幕快照 2018-09-26 下午5.10.45.png)

主动轮廓形状的逐步改变要借助能量函数进行。一般内部能量与轮廓自身有关（如尺寸、形状等），外部能量多依赖于图像中的性质（如灰度、梯度等）。具体应用中，两类能量函数都有多种形式，为使不同种能量可结合，实际中还需要将各种能量函数归一化。